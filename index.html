<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EarnCash Pro - Spin & Win</title>

    <script src="https://pl28721831.effectivegatecpm.com/1c/b1/38/1cb138209d61c0fae7baad1c3b2c9d7b.js"></script>

    <script src="https://pl28743927.effectivegatecpm.com/a1/21/87/a1218764c4e29e169e494177e0723c4c.js"></script>

    <style>
        :root { --primary: #3b82f6; --gold: #f59e0b; --bg: #0f172a; --card: #1e293b; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: white; margin: 0; padding: 10px; text-align: center; overflow-x: hidden; }
        .container { max-width: 400px; margin: auto; }
        .header { background: var(--card); padding: 15px; border-radius: 15px; display: flex; justify-content: space-between; margin-bottom: 15px; border: 1px solid #334155; }
        .balance-box { color: #22c55e; font-weight: bold; font-size: 1.2rem; }
        .card { background: var(--card); border-radius: 20px; padding: 20px; margin-bottom: 20px; border: 1px solid #334155; box-shadow: 0 4px 15px rgba(0,0,0,0.3); }
        h3 { margin-top: 0; color: var(--gold); }
        
        /* Spin Wheel */
        .wheel-container { position: relative; width: 220px; height: 220px; margin: auto; }
        #wheel { width: 100%; height: 100%; border-radius: 50%; border: 6px solid #334155; transition: transform 4s cubic-bezier(0.17, 0.67, 0.12, 0.99); background: conic-gradient(#f59e0b 0 60deg, #3b82f6 60deg 120deg, #ef4444 120deg 180deg, #10b981 180deg 240deg, #8b5cf6 240deg 300deg, #ec4899 300deg 360deg); }
        .pointer { position: absolute; top: -15px; left: 50%; transform: translateX(-50%); width: 0; height: 0; border-left: 12px solid transparent; border-right: 12px solid transparent; border-top: 25px solid #fff; z-index: 10; }
        
        /* Scratch Card */
        .scratch-box { position: relative; width: 240px; height: 100px; margin: auto; background: #fff; border-radius: 10px; overflow: hidden; display: flex; align-items: center; justify-content: center; }
        #reward-msg { color: #333; font-weight: bold; font-size: 1.5rem; }
        #scratch-canvas { position: absolute; top: 0; left: 0; cursor: crosshair; touch-action: none; }
        
        .btn { background: var(--gold); color: white; border: none; padding: 12px 30px; border-radius: 10px; font-weight: bold; cursor: pointer; margin-top: 15px; width: 100%; font-size: 16px; transition: 0.3s; }
        .btn:active { transform: scale(0.95); }
        .input-style { width: 90%; padding: 12px; border-radius: 8px; border: 1px solid #334155; background: #0f172a; color: white; margin-bottom: 10px; outline: none; }
        .ad-mini { margin: 10px 0; min-height: 60px; background: rgba(255,255,255,0.03); border-radius: 8px; display: flex; align-items: center; justify-content: center; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <span>Kamao Bhai ðŸ‘‹</span>
        <div class="balance-box">â‚¹<span id="bal">0.00</span></div>
    </div>

    <div class="ad-mini">
        <script async="async" data-cfasync="false" src="https://pl28743930.effectivegatecpm.com/16a7b68d6fbb9bede8be362f909e17d4/invoke.js"></script>
        <div id="container-16a7b68d6fbb9bede8be362f909e17d4"></div>
    </div>

    <div class="card">
        <h3>ðŸŽ¡ Lucky Spin</h3>
        <div class="wheel-container">
            <div class="pointer"></div>
            <div id="wheel"></div>
        </div>
        <button class="btn" onclick="spinWheel()">SPIN NOW</button>
    </div>

    <div class="card">
        <h3>ðŸŽ« Scratch Card</h3>
        <div class="scratch-box">
            <div id="reward-msg">â‚¹5.00</div>
            <canvas id="scratch-canvas"></canvas>
        </div>
        <button class="btn" style="background:#6366f1;" onclick="claimReward()">CLAIM SCRATCH REWARD</button>
    </div>

    <div class="card" style="border: 2px solid #22c55e;">
        <h3>ðŸ“¤ Withdraw (Min â‚¹50)</h3>
        <input type="text" id="upiId" class="input-style" placeholder="UPI ID (e.g. name@upi)">
        <button class="btn" style="background:#22c55e;" onclick="sendRequest()">SEND WITHDRAW REQUEST</button>
    </div>

    <p style="font-size: 10px; color: #64748b;">Â© 2026 Earning Tool - Powered by Adsterra</p>
</div>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

    const firebaseConfig = {
        apiKey: "AIzaSyBB0xfyM5fnx4gHvc1TP89AiD4vV61kxnA",
        authDomain: "earning-tool-e7f4b.firebaseapp.com",
        projectId: "earning-tool-e7f4b",
        storageBucket: "earning-tool-e7f4b.firebasestorage.app",
        messagingSenderId: "35069790958",
        appId: "1:35069790958:web:9847d9cce1f74bdf8141ff",
        measurementId: "G-M05WPESQG2"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Global function for Withdrawal
    window.sendRequest = async function() {
        const upi = document.getElementById('upiId').value;
        const balance = document.getElementById('bal').innerText;

        if(upi.length < 5) { alert("Sahi UPI ID daalo bhai!"); return; }
        if(parseFloat(balance) < 50) { 
            alert("Minimum withdrawal â‚¹50 hai. Thoda aur khelo!"); 
            window.location.href = "https://www.effectivegatecpm.com/yct5qaruui?key=3ecd9211875b400491fea171225148cc";
            return; 
        }
        
        try {
            await addDoc(collection(db, "withdrawals"), {
                upi: upi,
                amount: balance,
                date: new Date().toLocaleString(),
                status: "Pending"
            });
            alert("Request successfully sent! 24 ghante mein payment mil jayega.");
            window.location.href = "https://www.effectivegatecpm.com/yct5qaruui?key=3ecd9211875b400491fea171225148cc";
        } catch (e) { 
            alert("Error: Firebase rules check karein!"); 
            console.error(e);
        }
    };
</script>

<script>
    const SMART_LINK = "https://www.effectivegatecpm.com/yct5qaruui?key=3ecd9211875b400491fea171225148cc";
    let currentBal = 0;

    function spinWheel() {
        let rot = 1800 + Math.floor(Math.random() * 360);
        document.getElementById('wheel').style.transform = `rotate(${rot}deg)`;
        setTimeout(() => {
            currentBal += 2;
            document.getElementById('bal').innerText = currentBal.toFixed(2);
            alert("ðŸŽ‰ Congrats! â‚¹2.00 added to wallet.");
            window.location.href = SMART_LINK;
        }, 4200);
    }

    function claimReward() {
        window.location.href = SMART_LINK;
    }

    // Scratch Logic
    const canvas = document.getElementById('scratch-canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = 240; canvas.height = 100;
    ctx.fillStyle = '#888'; ctx.fillRect(0, 0, 240, 100);
    
    function scratch(e) {
        const rect = canvas.getBoundingClientRect();
        const x = (e.clientX || e.touches[0].clientX) - rect.left;
        const y = (e.clientY || e.touches[0].clientY) - rect.top;
        ctx.globalCompositeOperation = 'destination-out';
        ctx.beginPath(); ctx.arc(x, y, 15, 0, Math.PI*2); ctx.fill();
    }
    canvas.addEventListener('mousemove', scratch);
    canvas.addEventListener('touchmove', scratch);
</script>

</body>
</html>
